name: Setup tfenv
description: Setup tfenv and install Terraform

runs:
  using: composite
  steps:
    - name: Install tfenv
      shell: bash
      run: |
        git clone https://github.com/tfutils/tfenv.git $GITHUB_WORKSPACE/.tfenv
        echo "$GITHUB_WORKSPACE/.tfenv/bin" >> $GITHUB_PATH

    - name: Install Terraform
      shell: bash
      run: |
        tfenv install
        tfenv use
